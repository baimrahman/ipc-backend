(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d459022"],{"2ee3":function(t,a,e){var n,i;(function(o,s){if(null===o)throw new Error("Google-maps package can be used only in browser");n=s,i="function"===typeof n?n.call(a,e,a,t):n,void 0===i||(t.exports=i)})("undefined"!==typeof window?window:null,(function(){"use strict";var t="3.31",a=null,e=null,n=!1,i=[],o=[],s=null,r={URL:"https://maps.googleapis.com/maps/api/js",KEY:null,LIBRARIES:[],CLIENT:null,CHANNEL:null,LANGUAGE:null,REGION:null};r.VERSION=t,r.WINDOW_CALLBACK_NAME="__google_maps_api_provider_initializator__",r._googleMockApiObject={},r.load=function(t){null===e?!0===n?t&&i.push(t):(n=!0,window[r.WINDOW_CALLBACK_NAME]=function(){l(t)},r.createLoader()):t&&t(e)},r.createLoader=function(){a=document.createElement("script"),a.type="text/javascript",a.src=r.createUrl(),document.body.appendChild(a)},r.isLoaded=function(){return null!==e},r.createUrl=function(){var t=r.URL;return t+="?callback="+r.WINDOW_CALLBACK_NAME,r.KEY&&(t+="&key="+r.KEY),r.LIBRARIES.length>0&&(t+="&libraries="+r.LIBRARIES.join(",")),r.CLIENT&&(t+="&client="+r.CLIENT),r.CHANNEL&&(t+="&channel="+r.CHANNEL),r.LANGUAGE&&(t+="&language="+r.LANGUAGE),r.REGION&&(t+="&region="+r.REGION),r.VERSION&&(t+="&v="+r.VERSION),t},r.release=function(l){var c=function(){r.KEY=null,r.LIBRARIES=[],r.CLIENT=null,r.CHANNEL=null,r.LANGUAGE=null,r.REGION=null,r.VERSION=t,e=null,n=!1,i=[],o=[],"undefined"!==typeof window.google&&delete window.google,"undefined"!==typeof window[r.WINDOW_CALLBACK_NAME]&&delete window[r.WINDOW_CALLBACK_NAME],null!==s&&(r.createLoader=s,s=null),null!==a&&(a.parentElement.removeChild(a),a=null),l&&l()};n?r.load((function(){c()})):c()},r.onLoad=function(t){o.push(t)},r.makeMock=function(){s=r.createLoader,r.createLoader=function(){window.google=r._googleMockApiObject,window[r.WINDOW_CALLBACK_NAME]()}};var l=function(t){var a;for(n=!1,null===e&&(e=window.google),a=0;a<o.length;a++)o[a](e);for(t&&t(e),a=0;a<i.length;a++)i[a](e);i=[]};return r}))},"35bb":function(t,a,e){"use strict";e.d(a,"a",(function(){return n}));var n="AIzaSyDL-imf29QugRQMnO6PHnrF5xmQsWhFSp8"},"3fa0":function(t,a,e){},"504c":function(t,a,e){var n=e("9e1e"),i=e("0d58"),o=e("6821"),s=e("52a7").f;t.exports=function(t){return function(a){var e,r=o(a),l=i(r),c=l.length,d=0,u=[];while(c>d)e=l[d++],n&&!s.call(r,e)||u.push(t?[e,r[e]]:r[e]);return u}}},"5a4e":function(t,a,e){"use strict";e.r(a);var n,i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"gp-dashboard"},[e("h1",{staticClass:"content-header"},[t._v(t._s(this.$route.name))]),e("base-header",{staticClass:"pb-6",attrs:{type:"primary"}}),e("div",{staticClass:"container-fluid mt--5"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card border-0"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"row align-items-center"},[t._m(1),e("div",{staticClass:"col-6 text-right"},[e("el-select",{attrs:{size:"mini",placeholder:"Pilih Periode"},on:{change:function(a){return t.getData(9999,t.modal.periode)}},model:{value:t.modal.periode,callback:function(a){t.$set(t.modal,"periode",a)},expression:"modal.periode"}},t._l(t.periode,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)])]),e("div",{staticClass:"dashboard card-body overflow-auto"},[e("div",{staticClass:"col"},t._l(t.tableData,(function(a){return e("div",{key:a.id,staticClass:"row"},[e("div",{staticClass:"col-11 pl-0"},[e("h3",{staticClass:"title text-muted"},[t._v(t._s(a.unitName))]),e("base-progress",{attrs:{height:10,type:"danger",value:t.ratingHandler(a)}})],1),e("div",{staticClass:"col-1 p-0"},[e("div",{staticClass:"container-fraction bg-gray d-flex align-items-center justify-content-center text-align-center h-100 w-100 text-white rounded"},[e("p",{staticClass:"m-0"},[t._v(t._s(t.ratingHandler(a).toFixed(2))+"%")])])]),e("div",{staticClass:"col-12",staticStyle:{"border-top":"2px solid lightgray",margin:"30px auto 15px auto",padding:"10"}})])})),0)])])])])])],1)])},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"card border-0"},[e("div",{staticClass:"map-canvas",staticStyle:{height:"calc(100vh - 512px)","min-height":"350px"},attrs:{id:"map-custom"}})])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-6"},[e("h2",{staticClass:"m-0"},[t._v("Rekapitulasi Green Port")])])}],s=(e("8615"),e("456d"),e("ac6a"),e("55dd"),e("ade3")),r=(e("6611"),e("450d"),e("e772")),l=e.n(r),c=(e("7f7f"),e("1f1a"),e("4e4b")),d=e.n(c),u=e("82ea"),p=e("134b"),f=e("2ee3"),g=e.n(f),m=(e("def9"),e("35bb")),h=e("bc3a"),v=e.n(h);g.a.KEY=m["a"];var b=function(t,a){return Math.floor(Math.random()*(a-t)+t)},E={components:(n={BaseProgress:p["a"],BaseButton:u["a"]},Object(s["a"])(n,d.a.name,d.a),Object(s["a"])(n,l.a.name,l.a),n),data:function(){return{renders:{loading:!0},api:this.$store.state.api,modal:{periode:null},periode:null,mapData:[],tableData:[],count:{kp:23,pg:16,pl:14,mk:12,ku:26,kl:11,at:6,dp:17,dk:4,em:17,ai:12,hs:8,ml:17,lb:32,sb:6},max:{kp:15,pg:10,pl:1.5,mk:1.5,ku:6,kl:6,at:6,dp:6,dk:5,em:25,ai:7.5,hs:1.5,ml:1.5,lb:6,sb:1.5},portion:{kp:[.2,.2,.1,.1,.2,.2],pg:[.3,.3,.4],pl:[.15,.15,.125,.125,.2,.125,.125],mk:[.3,.4,.3],ku:[.1,.1,.05,.05,.2,.25,.05,.2],kl:[.3,.3,.3,.1],at:[.15,.2,.15,.2,.15,.15],dp:[.1,.1,.1,.05,.05,.1,.1,.4],dk:[.65,.35],em:[.2,.6,.2],ai:[.1,.1,.3,.5],hs:[.15,.3,.2,.2,.15],ml:[.2,.1,.1,.2,.4],lb:[.2,.075,.1,.075,.1,.075,.1,.075,.2],sb:[.4,.3,.3]},start:{kp:[0,5,8,12,15,20],pg:[0,5,10],pl:[0,1,2,5,6,7,9],mk:[0,3,8],ku:[0,4,7,9,12,16,19,20],kl:[0,2,5,7],at:[0,1,2,3,4,5],dp:[0,1,2,3,4,5,6,7],dk:[0,2],em:[0,6,14],ai:[0,3,5,10],hs:[0,1,3,5,7],ml:[0,3,4,5,6],lb:[0,11,13,16,20,21,23,25,27],sb:[0,2,4]},span:{kp:[5,3,4,3,5,3],pg:[5,5,6],pl:[1,1,3,1,1,2,5],mk:[3,5,4],ku:[4,3,2,3,4,3,1,6],kl:[2,3,2,4],at:[1,1,1,1,1,1],dp:[1,1,1,1,1,1,1,10],dk:[2,2],em:[6,8,3],ai:[3,2,5,2],hs:[1,2,2,2,1],ml:[3,1,1,1,11],lb:[11,2,3,4,1,2,2,2,5],sb:[2,2,2]}}},methods:{periodeRNG:function(){return this.periode[b(0,this.periode.length-1)].PERIODE},getListPeriode:function(){var t=this;v.a.get("http://45.127.133.75:3000/api/iems/list-periode").then((function(a){for(var e=[],n=0;n<a.data.length;n++)e.push({label:a.data[n].PERIODE,value:a.data[n].PERIODE});e.sort((function(t,a){return-1})),t.periode=e,t.modal.periode=t.periode[0].value,t.getData(9999,t.modal.periode)})).catch((function(t){console.log(t)}))},getData:function(t,a){var e=this;this.$store.getters.isDebugging&&console.log("DEBUG: Getting rating list on ",this.api.url+this.api.gp.getDashboard+a),v.a.get(this.api.url+this.api.gp.getDashboard+a).then((function(t){e.$store.getters.isDebugging&&console.log("DEBUG: Success to get rating list. Data: ",t.data);for(var a=[],n=0;n<t.data.length;n++)a.push(e.passDATA(t.data[n]));a.sort((function(t,a){var e=t.unitName,n=a.unitName;return e<n?-1:e>n?1:0})),e.tableData=a,e.getMap(),e.renders.loading=!1})).catch((function(t){e.$store.getters.isDebugging&&console.log("ERROR: Failed to get rating list. ",t)}))},passDATA:function(t){var a={};return a.id=t.GP_ID,a.timestamp=t.CREATEDAT/1e3,a.unitName=t.UK_NAME,a.kp=t.KP,a.pg=t.PG,a.pl=t.PL,a.mk=t.MK,a.ku=t.KU,a.kl=t.KL,a.at=t.AT,a.dp=t.DP,a.dk=t.DK,a.em=t.EM,a.ai=t.AI,a.hs=t.HS,a.ml=t.ML,a.lb=t.LB,a.sb=t.SB,a},getMap:function(){var t=this;v.a.get("http://45.127.133.75:3000/api/iems/map").then((function(a){t.mapData=a.data,g.a.load((function(a){t.initMap(a)}))}))},initMap:function(t){var a,e=this;a=document.getElementById("map-custom");var n=new t.maps.LatLng(.340199,116.472123),i={zoom:5,scrollwheel:!1,center:n,mapTypeId:t.maps.MapTypeId.ROADMAP};a=new t.maps.Map(a,i);for(var o=null,s=function(n){var i=new t.maps.LatLng(e.mapData[n].UK_LAT,e.mapData[n].UK_LONG),s="http://maps.google.com/mapfiles/ms/icons/orange-dot.png",r=[];r[n]=new t.maps.Marker({icon:{url:s},position:i,map:a,animation:t.maps.Animation.DROP,title:e.mapData[n].UK_NAME+" "+e.ratingHandler(e.tableData[n]).toFixed(2)+"%"});var l=e;t.maps.event.addListener(r[n],"click",(function(){var e='<div class="fs-16 mx-auto info-window-content"><h2>'+l.mapData[n].UK_NAME+"</h2>"+l.getPemenuhanMap(l.mapData[n].UK_NAME);o&&o.close(),o=new t.maps.InfoWindow({content:e}),o.open(a,r[n])}))},r=0;r<this.mapData.length;r++)s(r)},ratingHandler:function(t){var a=this,e={kp:0,pg:0,pl:0,mk:0,ku:0,kl:0,at:0,dp:0,dk:0,em:0,ai:0,hs:0,ml:0,lb:0,sb:0};return Object.keys(e).forEach((function(n){e[n]=a.aspectHandler(n,t[n])})),this.recaptHandler(e)},aspectHandler:function(t,a){for(var e=0,n=0;n<this.portion[t].length;n++)e=this.percentageHandler(t,a);return e},percentageHandler:function(t,a){for(var e=[],n=0;n<this.span[t].length;n++){for(var i=0,o=this.start[t][n];o<this.start[t][n]+this.span[t][n];o++)i+=Math.abs(a[o]);e.push(i/(2*this.span[t][n])*this.portion[t][n]*100)}for(var s=0,r=0;r<e.length;r++)s+=e[r];return s},recaptHandler:function(t){var a=this;Object.keys(t).forEach((function(e){t[e]*=a.max[e]/100}));var e=0;return Object.values(t).forEach((function(t){e+=t})),e}},created:function(){this.getListPeriode()},mounted:function(){}},k=E,A=(e("9099"),e("67f8"),e("2877")),L=Object(A["a"])(k,i,o,!1,null,"975fdf4e",null);a["default"]=L.exports},"67f8":function(t,a,e){"use strict";var n=e("dfe5"),i=e.n(n);i.a},8615:function(t,a,e){var n=e("5ca1"),i=e("504c")(!1);n(n.S,"Object",{values:function(t){return i(t)}})},9099:function(t,a,e){"use strict";var n=e("3fa0"),i=e.n(n);i.a},def9:function(t,a,e){"use strict"},dfe5:function(t,a,e){}}]);
//# sourceMappingURL=chunk-9d459022.40ab34b2.js.map